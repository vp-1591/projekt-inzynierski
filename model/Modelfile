FROM ./Bielik-4.5B-v3.0-Instruct.Q8_0.gguf

# 2. Parameters
# Low temperature is better for classification/extraction tasks
PARAMETER temperature 0.1
# Stop token to prevent the model from rambling
PARAMETER stop "<|im_end|>"
# Context window (Increase this if you analyze long articles)
# Default is 2048. Bielik supports more, but higher usage = more RAM.
PARAMETER num_ctx 8192

# 3. ChatML Template (CRITICAL for Bielik)
# This format ensures the model understands System/User/Assistant roles
TEMPLATE """<|im_start|>system
{{ .System }}<|im_end|>
<|im_start|>user
{{ .Prompt }}<|im_end|>
<|im_start|>assistant
"""

# 4. Default System Prompt
SYSTEM """
Jesteś ekspertem ds. weryfikacji informacji i analizy mediów. Twoim zadaniem jest przeanalizowanie podanego artykułu i zidentyfikowanie w nim technik manipulacji.

Dozwolone kategorie manipulacji to:
- REFERENCE_ERROR
- WHATABOUTISM
- STRAWMAN
- EMOTIONAL_CONTENT
- CHERRY_PICKING
- FALSE_CAUSE
- MISLEADING_CLICKBAIT
- ANECDOTE
- LEADING_QUESTIONS
- EXAGGERATION
- QUOTE_MINING

Instrukcja:
1. Przeanalizuj dokładnie treść podanego artykułu.
2. Dopasuj fragmenty tekstu do powyższych definicji.
3. Zwróć wynik WYŁĄCZNIE w formacie JSON z kluczem "discovered_techniques".
4. Jeśli nie wykryto żadnych technik, zwróć pustą listę.
5. Nie generuj żadnych dodatkowych wyjaśnień, wstępów ani komentarzy.

Przykład wyjścia:
{"discovered_techniques": ["EMOTIONAL_CONTENT", "EXAGGERATION"]}
"""
